(function(t){function e(e){for(var o,i,n=e[0],r=e[1],c=e[2],d=0,p=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],o=!0,n=1;n<a.length;n++){var r=a[n];0!==s[r]&&(o=!1)}o&&(l.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},s={app:0},l=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=r;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"026e":function(t,e,a){},"04aa":function(t,e,a){},"078f":function(t,e,a){"use strict";var o=a("b19f"),s=a.n(o);s.a},"08bf":function(t,e,a){"use strict";var o=a("8de6"),s=a.n(o);s.a},"0a03":function(t,e,a){"use strict";var o=a("04aa"),s=a.n(o);s.a},"12da":function(t,e,a){"use strict";var o=a("8966"),s=a.n(o);s.a},1956:function(t,e,a){},2250:function(t,e,a){},2328:function(t,e,a){},2461:function(t,e,a){"use strict";var o=a("5bf6"),s=a.n(o);s.a},"268f":function(t,e,a){},2741:function(t,e,a){},"2e5e":function(t,e,a){},3029:function(t,e,a){"use strict";var o=a("f940"),s=a.n(o);s.a},"311f":function(t,e,a){"use strict";var o=a("026e"),s=a.n(o);s.a},"3dd1":function(t,e,a){"use strict";var o=a("52b1"),s=a.n(o);s.a},"409a":function(t,e,a){"use strict";var o=a("8430"),s=a.n(o);s.a},"52b1":function(t,e,a){},"53e7":function(t,e,a){"use strict";var o=a("8855"),s=a.n(o);s.a},"55ef":function(t,e,a){"use strict";var o=a("1956"),s=a.n(o);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o,s=a("8bbf"),l=a.n(s),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],r={name:"app",components:{}},c=r,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null),p=d.exports,g=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{CLASS:"box"}},[a("div",{staticClass:"login_box"},[t._m(0),a("el-form",{ref:"loginFromRef",staticClass:"login_from",attrs:{"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-s-custom"},on:{click:t.login},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-s-cooperation"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{staticClass:"btns_log",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")]),a("el-button",{staticClass:"btns_reg",attrs:{type:"primary"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)])},h=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"avatar_box"},[o("img",{attrs:{src:a("d0cf")}})])}],f={name:"Navigation",data:function(){return{account:"",password:""}},methods:{login:function(){var t=this;t.account,""==t.password?this.$message("账号和密码不能为空"):(t.account,""==t.password?this.$message("账号和密码不能为空"):(t.$load(1,"登录中"),this.$http.post("/user/login","account="+t.account+"&password="+t.password).then((function(e){t.$load(0),0==e.data.code?(window.localStorage.setItem("user",JSON.stringify(e.data.data)),t.$router.push("/home"),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("登录失败")}))))},register:function(){var t=this;t.account,""==t.password?this.$message("账号和密码不能为空"):(t.account,""==t.password?this.$message("账号和密码不能为空"):(t.$load(1,"注册中"),this.$http.post("/user/register","account="+t.account+"&password="+t.password).then((function(e){t.$load(0),0==e.data.code?(t.login(),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("登录失败")}))))}}},b=f,v=(a("7d4f"),Object(u["a"])(b,m,h,!1,null,"4f35f550",null)),$=v.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticStyle:{height:"100%"}},[o("el-header",[o("div",[o("img",{attrs:{src:a("d0cf"),alt:""}}),o("span",[t._v("超级签名分发系统")])])]),o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":"",router:"","default-active":"/Personal","background-color":"#373d41","text-color":"#fff","active-text-color":"#ffd04b"}},[o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-user"}),o("span",[t._v("基本操作")])]),o("el-menu-item",{attrs:{index:"/Personal"}},[t._v("个人中心")])],2),o("el-submenu",{attrs:{index:"2"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-goods"}),o("span",[t._v("超级签名")])]),o("el-menu-item",{attrs:{index:"/AppAll"}},[t._v("应用列表")]),o("el-menu-item",{attrs:{index:"/UploadApp"}},[t._v("上传应用")]),o("el-menu-item",{attrs:{index:"/DownCode"}},[t._v("下载密码")]),o("el-menu-item",{attrs:{index:"/DownRecord"}},[t._v("下载记录")])],2),t.admin?o("el-submenu",{attrs:{index:"3"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-order"}),o("span",[t._v("超级证书管理")])]),o("el-menu-item",{attrs:{index:"/CertAll"}},[t._v("证书列表")]),o("el-menu-item",{attrs:{index:"/UploadCert"}},[t._v("上传证书")])],2):t._e(),t.admin?o("el-submenu",{attrs:{index:"4"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-custom"}),o("span",[t._v("用户管理")])]),o("el-menu-item",{attrs:{index:"/UserAll"}},[t._v("用户列表")])],2):t._e(),o("el-submenu",{attrs:{index:"6"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-present"}),o("span",[t._v("免签封装")])]),o("el-menu-item",{attrs:{index:"/startPack"}},[t._v("开始打包")]),o("el-menu-item",{attrs:{index:"/PackRecord"}},[t._v("打包记录")])],2),o("el-submenu",{attrs:{index:"7"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-office-building"}),o("span",[t._v("企业签名")])]),o("el-menu-item",{attrs:{index:"/UploadAppSign"}},[t._v("开始签名")]),o("el-menu-item",{attrs:{index:"/SignRecord"}},[t._v("签名记录")]),t.admin?o("el-menu-item",{attrs:{index:"/UploadEnterpriseCert"}},[t._v("上传证书")]):t._e()],2),o("el-submenu",{attrs:{index:"8"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-shopping-cart-full"}),o("span",[t._v("自助分发")])]),o("el-menu-item",{attrs:{index:"/SoftwareDistribute"}},[t._v("开始分发")]),o("el-menu-item",{attrs:{index:"/DistributeRecord"}},[t._v("应用列表")]),o("el-menu-item",{attrs:{index:"/DistributeDownRecord"}},[t._v("下载记录")])],2),t.admin?o("el-submenu",{attrs:{index:"9"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-eleme"}),o("span",[t._v("域名管理")])]),o("el-menu-item",{attrs:{index:"/DomainList"}},[t._v("域名列表")]),o("el-menu-item",{attrs:{index:"/AddDomain"}},[t._v("添加域名")]),o("el-menu-item",{attrs:{index:"/Setting"}},[t._v("其他设置")])],2):t._e(),t.admin?o("el-submenu",{attrs:{index:"10"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-attract"}),o("span",[t._v("单点分发")])]),o("el-menu-item",{attrs:{index:"/ShuoMing"}},[t._v("使用说明")]),o("el-menu-item",{attrs:{index:"/IosAppAll"}},[t._v("应用列表")]),o("el-menu-item",{attrs:{index:"/UploadIosApp"}},[t._v("应用上传")]),o("el-menu-item",{attrs:{index:"/IosCertAll"}},[t._v("证书列表")]),o("el-menu-item",{attrs:{index:"/UploadIosCert"}},[t._v("证书上传")]),o("el-menu-item",{attrs:{index:"/IosDownRecord"}},[t._v("下载记录")])],2):t._e(),t.admin?o("el-submenu",{attrs:{index:"11"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-film"}),o("span",[t._v("mdm证书")])]),o("el-menu-item",{attrs:{index:"/MdmCert"}},[t._v("证书列表")]),o("el-menu-item",{attrs:{index:"/UploadMdmCert"}},[t._v("证书上传")])],2):t._e(),o("el-submenu",{attrs:{index:"12"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-promotion"}),o("span",[t._v("超级签名MDM")])]),o("el-menu-item",{attrs:{index:"/MdmAppAll"}},[t._v("应用列表")]),o("el-menu-item",{attrs:{index:"/MdmUploadApp"}},[t._v("上传应用")]),o("el-menu-item",{attrs:{index:"/MdmDownCode"}},[t._v("下载密码")]),o("el-menu-item",{attrs:{index:"/MdmSuperDownRecord"}},[t._v("下载记录")])],2),o("el-submenu",{attrs:{index:"13"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-eleme"}),o("span",[t._v("企业签名MDM")])]),o("el-menu-item",{attrs:{index:"/MdmDistributeRecord"}},[t._v("应用列表")]),o("el-menu-item",{attrs:{index:"/MdmSoftwareDistribute"}},[t._v("上传应用")]),o("el-menu-item",{attrs:{index:"/MdmSoftwareDownRecord"}},[t._v("下载记录")])],2),t.admin?o("el-submenu",{attrs:{index:"14"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-setting"}),o("span",[t._v("系统设置")])]),o("el-menu-item",{attrs:{index:"/SettingKouliang"}},[t._v("常规设置")])],2):t._e()],1)],1),o("el-main",[o("router-view")],1)],1)],1)},C=[],y={name:"Home",created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,0==t.type?this.admin=!1:this.admin=!0},data:function(){return{admin:!1}}},x=y,_=(a("311f"),Object(u["a"])(x,w,C,!1,null,"daf45814",null)),k=_.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"center_box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("用户信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text"},on:{click:t.quit}},[t._v("退出")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改密码")])],1),a("div",{staticClass:"text item"},[t._v(" 账号: "+t._s(t.account)+" ")]),a("div",{staticClass:"text item"},[t._v(" 类型: "+t._s(t.type)+" ")]),a("div",{staticClass:"text item"},[t._v(" 公有池: "+t._s(t.count)+" 台 ")])])],1),a("el-form",{staticStyle:{"margin-left":"10px","margin-top":"20px"}},[a("el-tag",[t._v("分发价格")]),a("el-form-item",{attrs:{label:"mdm企业签名下载1次扣除"}},[a("el-tag",[t._v(t._s(t.req.mdmSoftTotal)+"台")])],1),a("el-form-item",{attrs:{label:"mdm超级签名下载1次扣除"}},[a("el-tag",[t._v(t._s(t.req.mdmSuperTotal)+"台")])],1),a("el-form-item",{attrs:{label:"超级签名分发下载1次扣除"}},[a("el-tag",[t._v(t._s(t.req.superTotal)+"台")])],1),a("el-form-item",{attrs:{label:"单点分发下载1次扣除"}},[a("el-tag",[t._v(t._s(t.req.oneSuperTotal)+"台")])],1),a("el-form-item",{attrs:{label:"免签封装1次扣除"}},[a("el-tag",[t._v(t._s(t.req.webPackTotal)+"台")])],1),a("el-form-item",{attrs:{label:"自助分发扣除"}},[a("el-tag",[t._v(t._s(t.req.softTotal)+"台")])],1)],1),a("el-dialog",{attrs:{title:"修改密码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确 定")])],1)],1)],1)},D=[],I={created:function(){o=this,console.log("展示"),this.$http.get("/user/get_info").then((function(t){if(0===t.data.code){var e=t.data.data;console.log("个人中心"),console.log(e),window.localStorage.setItem("user",JSON.stringify(e)),console.log(e.account),o.account=e.account,o.count=e.count,0===e.type?o.type="普通用户":o.type="管理员"}else o.$message.error(t.data.message)})),this.query()},name:"Personal",data:function(){return{account:"获取中",type:"获取中",count:"获取中",dialogFormVisible:!1,password:"",newPassword:"",formLabelWidth:"120px",req:{mdmSoftNum:0,mdmSoftReCount:0,mdmSuperNum:0,mdmSuperReCount:0,superNum:0,superReCount:0,softNum:0,softReCount:0,superTotal:0,mdmSuperTotal:0,softTotal:0,mdmSoftTotal:0,webPackTotal:0}}},methods:{query:function(){var t=this;t.$http.post("/user/system_settings_query").then((function(e){t.$load(0),0===e.data.code?t.req=e.data.data:t.$message.error(e.data.message)})).catch((function(e){t.$load(0),console.log(e)}))},ok:function(){var t=this;""===this.password||""===this.newPassword?t.$message.success("请填写完整信息"):this.$http.post("/user/updatePassword","account="+this.account+"&password="+this.password+"&newPassword="+this.newPassword).then((function(e){0===e.data.code?(t.$message.success(e.data.message),t.$router.push("/login")):t.$message.error(e.data.message)}))},quit:function(){var t=this;this.$http.get("/user/quit").then((function(e){t.$message.success(e.data.message),window.localStorage.removeItem("user"),t.$router.push("/login")}))}}},V=I,z=(a("409a"),Object(u["a"])(V,S,D,!1,null,"fcb12aee",null)),T=z.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"dayCount",label:"今日下载"}}),a("el-table-column",{attrs:{prop:"lastDayCount",label:"昨日下载"}}),a("el-table-column",{attrs:{prop:"sumCount",label:"总下载"}}),a("el-table-column",{attrs:{prop:"account",label:"所属用户"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{prop:"apk",label:"安卓"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpen(e.row.id)}}},[t._v(t._s(e.row.apk))])]}}])}),a("el-table-column",{attrs:{prop:"ipa",label:"IOS"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpenIpa(e.row.id)}}},[t._v("更新")])]}}])}),a("el-table-column",{attrs:{prop:"language",label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateLanguage(e.row.id,e.row.language)}}},[t._v("编辑")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"url",label:"分发地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.url)}}},[t._v("复制地址")])]}}])}),a("el-table-column",{attrs:{prop:"downCode",label:"下载码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{on:{click:function(a){return t.use(e)}}},[e.row.account==t.account?a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.row.downCode,callback:function(a){t.$set(e.row,"downCode",a)},expression:"scope.row.downCode"}}):t._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"buyDownCodeUrl",label:"购买地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateDownCodeUrl(e.row.id,e.row.buyDownCodeUrl)}}},[t._v("编辑")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateDomain(e.row.id)}}},[t._v("更换域名")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleIpa,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisibleIpa=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{title:"语言编辑",visible:t.dialogVisible5,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible5=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入语言"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible5=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateLanguagePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"购买地址",visible:t.dialogVisible4,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible4=e}}},[a("el-input",{attrs:{maxlength:"1000",type:"textarea",rows:3,placeholder:"请输入购买地址"},model:{value:t.buyDownCodeUrl,callback:function(e){t.buyDownCodeUrl=e},expression:"buyDownCodeUrl"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible4=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateDownCodeUrlPost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"轮播图",visible:t.dialogVisible3,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("el-upload",{staticClass:"upload-demo",attrs:{"before-remove":function(){return this.$message.error("选择了,就不可以移除哦!"),!1},headers:this.$getHeader(),accept:".jpg,.png","on-change":t.uploadImagesChange,action:this.$http.defaults.baseURL+"/distribute/uploadImg","file-list":t.fileList,limit:"4","list-type":"picture","auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){return e.stopPropagation(),t.uploadImagesPost()}}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)},N=[],F={created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,this.type=t.type,this.update(this.page,this.count),console.log(this.type)},methods:{updateDomain:function(t){var e=this;this.$http.post("/distribute/updateDomain","id="+t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("修改失败")}))},updateDownCodeUrlPost:function(){this.dialogVisible4=!1;var t=this;this.$http.post("/distribute/updateBuyDownCodeUrl?id="+t.id3+"&url="+t.buyDownCodeUrl).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},updateDownCodeUrl:function(t,e){this.dialogVisible4=!0,console.log(e),this.buyDownCodeUrl=e,this.id3=t},use:function(t){this.dialogVisible2=!1,console.log(t.row.downCode);var e=this;!0===t.row.downCode?t.row.downCode=1:t.row.downCode=0,this.$http.post("/distribute/updateDownCodeStatus?id="+t.row.id+"&downCode="+t.row.downCode).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("操作失败")}))},admin:function(t,e,a){return t===this.account&&e===a},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateLanguage:function(t,e){this.dialogVisible5=!0,console.log(e),this.language=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/distribute/updateIntroduce?id="+t.id2+"&introduce="+t.introduce).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},updateLanguagePost:function(){this.dialogVisible5=!1;var t=this;this.$http.post("/distribute/updateLanguage?id="+t.id2+"&language="+t.language).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImages:function(t){this.fileList=[],this.dialogVisible3=!0,this.id2=t,this.img=[]},uploadImagesPost:function(){if(4!=this.img.length)this.$message.error("需要四张图哦!");else{this.dialogVisible3=!1;var t=new FormData;t.append("img1",this.img[0]),t.append("img2",this.img[1]),t.append("img3",this.img[2]),t.append("img4",this.img[3]),t.append("id",this.id2);var e=this;this.$http.post("/distribute/uploadImg",t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("上传失败")}))}},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/distribute/deleIpa?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/distribute/queryAccountAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];null==o.apk?o.apk="未上传":o.apk="已上传",0==o.downCode?o.downCode=!1:o.downCode=!0,a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.id=t,this.dialogVisible=!0},dialogVisibleOpenIpa:function(t){this.id.id=t,this.dialogVisibleIpa=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.dialogVisibleIpa=!1,this.update(this.page,this.count)):this.$message.error(t.message)}},data:function(){return{tableData:[],dialogVisibleIpa:!1,dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,dialogVisible5:!1,language:"",introduce:"",id2:"",id3:"",buyDownCodeUrl:"",fileList:[],img:[],count:5,page:1,pages:0,total:0,account:"",type:""}}},U=F,q=(a("8536"),Object(u["a"])(U,P,N,!1,null,null,null)),O=q.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"uploadHead",attrs:{"on-success":t.success,"with-credentials":"",drag:"",headers:this.$getHeader(),action:this.$http.defaults.baseURL+"/distribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])},L=[],R={name:"UploadApp",data:function(){return{}},methods:{success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?this.$message.success(t.message+":请前往我的应用查看"):this.$message.error(t.message)}}},A=R,E=Object(u["a"])(A,j,L,!1,null,"f42f9e34",null),M=E.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"iis",label:"iis"}}),a("el-table-column",{attrs:{prop:"kid",label:"kid"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{prop:"count",label:"剩余次数"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.iis)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},B=[],J={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/iis/deleIis?iis="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/iis/queryAccount?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];1===o.status?o.status="正常":o.status="失效",a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},K=J,W=(a("2461"),Object(u["a"])(K,H,B,!1,null,null,null)),X=W.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("证书信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))]),a("a",{attrs:{href:"https://blog.csdn.net/m0_48720770/article/details/122898401",target:"_blank"}},[a("el-button",{staticStyle:{float:"right","margin-right":"10px",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"}},[t._v("使用说明")])],1)],1),a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"iis:"}},[a("el-input",{model:{value:t.iis,callback:function(e){t.iis=e},expression:"iis"}})],1),a("el-form-item",{attrs:{label:"kid"}},[a("el-input",{model:{value:t.kid,callback:function(e){t.kid=e},expression:"kid"}})],1),a("el-form-item",{attrs:{label:"P8:"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".p8",headers:this.$getHeader(),action:"/iis/addIis","auto-upload":!1,"on-change":t.change,"file-list":t.list,limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.clear}},[t._v("选择文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传p8文件，且不超过500kb")])],1)],1)],1)],1)},G=[],Q={name:"UploadCert",data:function(){return{iis:"",kid:"",p8:"",list:[],disabled:!1,buttonText:"添加"}},methods:{change:function(t){console.log(t.raw),this.p8=t.raw},clear:function(){this.$refs.upload.clearFiles()},upload:function(){var t=this,e=new FormData;e.append("iis",this.iis),e.append("kid",this.kid),e.append("p8",this.p8),""==this.iis||""==this.kid||""==this.p8?t.$message.error("请填写完整信息"):(t.disabled=!0,t.buttonText="添加中",t.$http.post("/iis/addIis",e).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="添加",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)})))}}},Z=Q,tt=Object(u["a"])(Z,Y,G,!1,null,"307072a4",null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"password",label:"密码"}}),a("el-table-column",{attrs:{prop:"count",label:"共有池"}}),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},on:{click:function(a){return t.handleClick(e.row.account)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"small"},on:{click:function(a){return t.addPublic(e.row)}}},[t._v("添加共有池")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{attrs:{type:"account",disabled:!0,autocomplete:"off"},model:{value:t.current.account,callback:function(e){t.$set(t.current,"account",e)},expression:"current.account"}})],1),a("el-form-item",{attrs:{label:"公有池"}},[a("el-input",{attrs:{type:"count",disabled:!0,autocomplete:"off"},model:{value:t.current.count,callback:function(e){t.$set(t.current,"count",e)},expression:"current.count"}})],1),a("el-form-item",{attrs:{label:"增加/台"}},[a("el-input",{attrs:{oninput:"value=value.replace(/[^(\\-)0-9]/g,'')",placeholder:"请输入内容"},model:{value:t.addCount,callback:function(e){t.addCount=e},expression:"addCount"}})],1)],1),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dialogVisibleClick(t.current.account)}}},[t._v("确定")])],1)],1)},ot=[],st={created:function(){this.update(this.page,this.count)},methods:{addPublic:function(t){this.dialogVisible=!0,this.current=t},dialogVisibleClick:function(t){if(parseInt(this.current.count)+parseInt(this.addCount)>=0){this.dialogVisible=!1;var e=this;this.$http.post("admin/addUserCount?account="+t+"&count="+this.addCount).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)}))}else this.$message.error("减量不能超过现有量")},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("admin/dele?account="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/admin/queryAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];1===o.type?o.type="管理员":o.type="普通用户",a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1,dialogVisible:!1,addCount:1,current:{}}}},lt=st,it=(a("c005"),Object(u["a"])(lt,at,ot,!1,null,null,null)),nt=it.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"udid",label:"设备UDID"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下载时间"}}),a("el-table-column",{attrs:{prop:"status",label:"下载状态"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP"}}),a("el-table-column",{attrs:{prop:"id",label:"证书下载"},scopedSlots:t._u([{key:"default",fn:function(e){return["下载成功"===e.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.downCert(e.row.id)}}},[t._v("证书下载")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},ct=[],ut={created:function(){this.update(this.page,this.count)},methods:{downCert:function(t){console.log(t);var e=this;e.$load(1,"查询中"),this.$http.get("/distribute/downCert?id="+t).then((function(t){e.$load(0),window.location.href=t.data.url})).catch((function(t){e.$load(0),e.$message,t("未知失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/user/queryDown?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];"点击下载"===o.status&&(o.status="下载成功"),a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},dt=ut,pt=(a("bafb"),Object(u["a"])(dt,rt,ct,!1,null,null,null)),gt=pt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",[a("span",{staticStyle:{"font-size":"15px",color:"#333744"}},[t._v("生成个数: ")]),a("el-input",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{oninput:"value=value.replace(/[^0-9]/g,'')",placeholder:"请输入内容"},model:{value:t.addCount,callback:function(e){t.addCount=e},expression:"addCount"}}),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addDownCode}},[t._v("立即生成")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"downCode",label:"下载码"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"useTime",label:"使用时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},ht=[],ft={created:function(){this.update(this.page,this.count)},methods:{addDownCode:function(){var t=this;t.$load(1,"处理中"),this.$http.post("/distribute/addDownCode?num="+t.addCount).then((function(e){t.$load(0),0==e.data.code?t.update(t.page,t.count):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("添加失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/distribute/deleDownCode?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/distribute/queryAllDownCode?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];1===o.status?o.status="未使用":o.status="已使用",a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1,addCount:1}}},bt=ft,vt=(a("ed16"),Object(u["a"])(bt,mt,ht,!1,null,null,null)),$t=vt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"appName",label:"软件名称"}}),a("el-table-column",{attrs:{prop:"url",label:"打包地址"}}),a("el-table-column",{attrs:{prop:"status",label:"打包状态"}}),a("el-table-column",{attrs:{prop:"preview",label:"预览地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.preview?a("el-button",{staticStyle:{display:"block",margin:"0 auto"},attrs:{size:"medium",type:"primary"},on:{click:function(a){return t.copy(e.row.preview)}}},[t._v("复制地址")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"down",label:"源码地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.down?a("el-button",{staticStyle:{display:"block",margin:"0 auto"},attrs:{size:"medium",type:"primary"},on:{click:function(a){return t.copy(e.row.down)}}},[t._v("复制地址")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"isVariable",label:"更新网址"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.isVariable?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateUrl(e.row.id,e.row.url)}}},[t._v("编辑")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"更换地址",visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入新的网址"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateUrlPost()}}},[t._v("确 定")])],1)],1)},Ct=[],yt={created:function(){this.update(this.page,this.count)},methods:{updateUrl:function(t,e){this.dialogVisible=!0,this.url=e,this.id=t},updateUrlPost:function(){var t=this;this.dialogVisible=!1,this.$http.post("/pack/updateIdUrl?id="+t.id+"&url="+t.url).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/iis/deleIis?iis="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/pack/queryAccountAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1,dialogVisible:!1,url:"",id:""}}},xt=yt,_t=(a("9e1a"),Object(u["a"])(xt,wt,Ct,!1,null,null,null)),kt=_t.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应用名称",prop:"appName"}},[a("el-input",{model:{value:t.ruleForm.appName,callback:function(e){t.$set(t.ruleForm,"appName",e)},expression:"ruleForm.appName"}})],1),a("el-form-item",{attrs:{label:"打包网址",prop:"url"}},[a("el-input",{model:{value:t.ruleForm.url,callback:function(e){t.$set(t.ruleForm,"url",e)},expression:"ruleForm.url"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"机构",prop:"organization"}},[a("el-input",{model:{value:t.ruleForm.organization,callback:function(e){t.$set(t.ruleForm,"organization",e)},expression:"ruleForm.organization"}})],1),a("el-form-item",{attrs:{label:"描述信息",prop:"describe"}},[a("el-input",{model:{value:t.ruleForm.describe,callback:function(e){t.$set(t.ruleForm,"describe",e)},expression:"ruleForm.describe"}})],1),a("el-form-item",{attrs:{label:"同意信息",prop:"consentMessage"}},[a("el-input",{model:{value:t.ruleForm.consentMessage,callback:function(e){t.$set(t.ruleForm,"consentMessage",e)},expression:"ruleForm.consentMessage"}})],1),a("el-form-item",{attrs:{label:"应用图标",prop:"icon"}},[a("input",{staticClass:"file",attrs:{name:"fileIocn",type:"file",accept:"image/png,image/jpeg"},on:{change:function(e){return t.getFileIcon(e)}}})]),a("el-form-item",{attrs:{label:"启动图",prop:"startIcon"}},[a("input",{staticClass:"file",attrs:{name:"fileStartIcon",type:"file",accept:"image/png,image/jpeg"},on:{change:function(e){return t.getFileStartIcon(e)}}})]),a("el-form-item",{attrs:{label:"可移除",prop:"isRemove"}},[a("el-radio-group",{model:{value:t.ruleForm.isRemove,callback:function(e){t.$set(t.ruleForm,"isRemove",e)},expression:"ruleForm.isRemove"}},[a("el-radio",{attrs:{label:"1"}},[t._v("是")]),a("el-radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),a("el-form-item",{attrs:{label:"动态网址",prop:"isRemove"}},[a("el-radio-group",{model:{value:t.ruleForm.isVariable,callback:function(e){t.$set(t.ruleForm,"isVariable",e)},expression:"ruleForm.isVariable"}},[a("el-radio",{attrs:{label:"1"}},[t._v("是")]),a("el-radio",{attrs:{label:"0"}},[t._v("否")])],1)],1),a("el-form-item",{attrs:{label:"包名",prop:"pageName"}},[a("el-input",{attrs:{placeholder:"必须为xxx.xxx.xx,一般为域名倒叙"},model:{value:t.ruleForm.pageName,callback:function(e){t.$set(t.ruleForm,"pageName",e)},expression:"ruleForm.pageName"}})],1),a("el-form-item",{attrs:{label:"版本",prop:"version"}},[a("el-input",{attrs:{placeholder:"必须是数字如:1.1"},model:{value:t.ruleForm.version,callback:function(e){t.$set(t.ruleForm,"version",e)},expression:"ruleForm.version"}})],1),a("el-form-item",{attrs:{label:"根证书",prop:"rootCert"}},[a("el-input",{attrs:{rows:5,placeholder:"不懂请留空",type:"textarea"},model:{value:t.ruleForm.rootCert,callback:function(e){t.$set(t.ruleForm,"rootCert",e)},expression:"ruleForm.rootCert"}})],1),a("el-form-item",{attrs:{label:"服务器证书",prop:"serverCert"}},[a("el-input",{attrs:{rows:5,placeholder:"不懂请留空",type:"textarea"},model:{value:t.ruleForm.serverCert,callback:function(e){t.$set(t.ruleForm,"serverCert",e)},expression:"ruleForm.serverCert"}})],1),a("el-form-item",{attrs:{label:"秘钥",prop:"keyCert"}},[a("el-input",{attrs:{rows:5,placeholder:"不懂请留空",type:"textarea"},model:{value:t.ruleForm.keyCert,callback:function(e){t.$set(t.ruleForm,"keyCert",e)},expression:"ruleForm.keyCert"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1)],1)},Dt=[],It=a("ade3"),Vt=a("bc3a"),zt=a.n(Vt),Tt=null,Pt={created:function(){},data:function(){var t=function(t,e,a){null==Tt?a(new Error):a()};return{ruleForm:{account:"",appName:"超级签名分发系统",url:zt.a.defaults.baseURL,name:"",organization:"",describe:"",consentMessage:"",icon:"",startIcon:"",isRemove:"1",isVariable:"0",pageName:"",version:"",isXfive:"1",rootCert:"",serverCert:"",keyCert:""},fullscreenLoading:!1,rules:Object(It["a"])({appName:[{required:!0,message:"请输入应用名称",trigger:"blur"}],url:[{required:!0,message:"请输入打包网址",trigger:"blur"}],icon:[{validator:t,message:"请选择应用图标",trigger:"blur"}],pageName:[{required:!0,message:"请填写包名",trigger:"blur"}],version:[{required:!0,message:"请填写版本",trigger:"blur"}]},"pageName",[{required:!0,message:"包名不能为空",trigger:"blur"}])}},methods:{submitForm:function(t){var e=this,a=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var o=new FormData;console.log("niha1"),console.log(a.ruleForm.icon),o.append("icon",a.ruleForm.icon),o.append("startIcon",a.ruleForm.startIcon);var s=a.ruleForm.icon,l=a.ruleForm.startIcon;a.ruleForm.icon="",a.ruleForm.startIcon="",o.append("statusJson",JSON.stringify(a.ruleForm)),a.ruleForm.icon=s,a.ruleForm.startIcon=l;var i={headers:{"Content-Type":"multipart/form-data"}};e.$load(1,"提交中"),e.$http.post("/pack/submit",o,i).then((function(t){200===t.status&&a.$message.success(t.data.message),a.$load(0)}))}))},getFileIcon:function(t){this.ruleForm.icon=t.target.files[0],Tt="123"},getFileStartIcon:function(t){this.ruleForm.startIcon=t.target.files[0]}}},Nt=Pt,Ft=Object(u["a"])(Nt,St,Dt,!1,null,"6376c38f",null),Ut=Ft.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"name",label:"证书名称"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{prop:"count",label:"扣除共有池"}}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{prop:"expireTime",label:"过期时间"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{prop:"md5",label:"开始签名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.sign(e.row.md5)}}},[t._v("开始签名")])]}}])}),t.admin?a("el-table-column",{attrs:{prop:"md5",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"small"},on:{click:function(a){return t.editDgf(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},on:{click:function(a){return t.deleteCert(e.row.md5)}}},[t._v("删除")])]}}],null,!1,3608467584)}):t._e()],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("input",{staticClass:"file",attrs:{size:"small",id:"ipa",name:"fileIocn",type:"file",accept:".ipa"},on:{change:function(e){return t.ipaF(e)}}}),a("div",[a("el-tag",{staticStyle:{"margin-top":"10px","margin-right":"10px"}},[t._v("时间锁 ")]),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.isTimeLock,callback:function(e){t.isTimeLock=e},expression:"isTimeLock"}})],1),t.isTimeLock?a("div",{staticClass:"block",staticStyle:{"margin-top":"10px"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"到期时间"},model:{value:t.lockFinishTime,callback:function(e){t.lockFinishTime=e},expression:"lockFinishTime"}})],1):t._e(),a("div",{staticStyle:{"margin-top":"10px"}},[0!==t.percentage?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":25,percentage:t.percentage}}):t._e()],1),a("div",[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.uploadIpa()}}},[t._v("开始签名")])],1)]),a("el-dialog",{attrs:{visible:t.editDg,width:"30%"},on:{"update:visible":function(e){t.editDg=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"证书名"}},[a("el-input",{attrs:{type:"account",disabled:!0,autocomplete:"off"},model:{value:t.cert.name,callback:function(e){t.$set(t.cert,"name",e)},expression:"cert.name"}})],1),a("el-form-item",{attrs:{label:"所需公有池"}},[a("el-input",{attrs:{oninput:"cert.count=value.replace(/[^(\\-)0-9]/g,'')",placeholder:"请输入内容"},model:{value:t.cert.count,callback:function(e){t.$set(t.cert,"count",e)},expression:"cert.count"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{oninput:"cert.remark",placeholder:"请输入内容"},model:{value:t.cert.remark,callback:function(e){t.$set(t.cert,"remark",e)},expression:"cert.remark"}})],1)],1),a("el-button",{on:{click:function(e){t.editDg=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editF()}}},[t._v("确定")])],1)],1)},Ot=[],jt=(a("d3b7"),{created:function(){this.update(this.page,this.count);var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),0==t.type?this.admin=!1:this.admin=!0},methods:{uploadIpa:function(){var t=this;if(""==this.ipaFile)t.$message.error("请填写完整信息!");else{var e=new FormData;console.log("ipa信息"),console.log(this.ipa),e.append("ipa",this.ipaFile),e.append("md5",this.data.md5),t.isTimeLock?e.append("isTimeLock",1):e.append("isTimeLock",0),this.lockFinishTime?e.append("lockFinishTime",Date()):e.append("lockFinishTime",this.lockFinishTime),console.log(this.lockFinishTime);var a={onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.percentage=a}};t.$http.post("/EnterpriseSign/uploadIpa",e,a).then((function(e){console.log(e.data),0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)})).finally((function(){t.percentage=0,t.dialogVisible=!1}))}},ipaF:function(t){console.log("触发"),console.log(t.target.files[0]),this.ipaFile=t.target.files[0]},editDgf:function(t){this.cert=t,this.editDg=!0},deleteCert:function(t){var e=this;this.$http.post("/EnterpriseSign/deleteCert?md5="+t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)}))},editF:function(){this.editDg=!1;var t=this;this.$http.post("/EnterpriseSign/edit?remark="+this.cert.remark+"&count="+this.cert.count+"&md5="+this.cert.md5).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)}))},sign:function(t){console.log("md5"+t);var e=document.getElementById("ipa");e&&(e.value="");var a=this;a.ipaFile="",a.percentage=0,a.isTimeLock=!1,a.lockFinishTime=Date(),this.dialogVisible=!0,this.data.md5=t},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/iis/deleIis?iis="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/EnterpriseSign/queryAllCert?pageNum="+t+"&pageSize="+e).then((function(t){a.$load(0),0==t.data.code?(console.log(t.data.data),a.tableData=t.data.data,a.pages=t.data.pages,a.total=t.data.total):a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.update(this.page,this.count)):(this.dialogVisible=!1,this.$message.error(t.message))}},data:function(){return{percentage:0,tableData:[],count:5,page:1,pages:0,total:1,dialogVisible:!1,url:"",data:{md5:""},admin:!1,editDg:!1,cert:{},ipaFile:"",isTimeLock:!1,lockFinishTime:Date()}}}),Lt=jt,Rt=(a("afda"),Object(u["a"])(Lt,qt,Ot,!1,null,null,null)),At=Rt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"certName",label:"证书名"}}),a("el-table-column",{attrs:{prop:"createTime",label:"签名时间"}}),a("el-table-column",{attrs:{prop:"appName",label:"app名"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{label:"时间锁"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(1===e.row.isTimeLock?"是":"否"))])]}}])}),a("el-table-column",{attrs:{prop:"lockTimeFinish",label:"到期时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{prop:"downUrl",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!=e.row.downUrl?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.down(e.row.downUrl)}}},[t._v("下载Ipa")]):t._e(),1===e.row.isTimeLock?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateTime(e.$index)}}},[t._v("修改时间锁")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"编辑"}})],1),a("el-dialog",{attrs:{title:"修改时间",visible:t.updateTimeDg,center:"",width:"30%"},on:{"update:visible":function(e){t.updateTimeDg=e}}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"到期时间"},model:{value:t.updateTimeV,callback:function(e){t.updateTimeV=e},expression:"updateTimeV"}}),a("p"),a("el-button",{on:{click:function(e){t.updateTimeDg=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateLock()}}},[t._v("确 定")])],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},Mt=[],Ht={created:function(){this.update(this.page,this.count);var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),0==t.type?this.admin=!1:this.admin=!0},methods:{formatDateTime:function(t){var e=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var o=t.getDate();o=o<10?"0"+o:o;var s=t.getHours();s=s<10?"0"+s:s;var l=t.getMinutes();l=l<10?"0"+l:l;var i=t.getSeconds();return i=i<10?"0"+i:i,e+"-"+a+"-"+o+" "+s+":"+l+":"+i},updateLock:function(){console.log("修改时间"),console.log(this.updateTimeV);var t=this;this.$http.post("/EnterpriseSign/update_time_lock","id="+this.tableData[this.selectIndex].id+"&lockTimeFinish="+this.formatDateTime(this.updateTimeV)).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")})).finally((function(){t.updateTimeDg=!1}))},updateTime:function(t){console.log("更新"+t),this.updateTimeV=new Date(this.tableData[t].lockTimeFinish),this.updateTimeDg=!0,this.selectIndex=t},down:function(t){console.log(t),window.location.href=t},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/EnterpriseSign/queryAccountPack?pageNum="+t+"&pageSize="+e).then((function(t){a.$load(0),0==t.data.code?(console.log(t.data.data),a.tableData=t.data.data,a.pages=t.data.pages,a.total=t.data.total):a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{selectIndex:0,tableData:[],count:5,page:1,pages:0,total:1,admin:!1,lockFinishTimes:[],updateTimeDg:!1,updateTimeV:Date()}}},Bt=Ht,Jt=(a("59f4"),Object(u["a"])(Bt,Et,Mt,!1,null,null,null)),Kt=Jt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"uploadHead",attrs:{"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/softwareDistribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])},Xt=[],Yt={name:"UploadApp",data:function(){return{}},methods:{success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?this.$message.success(t.message+":请前往分发记录查看"):this.$message.error(t.message)}}},Gt=Yt,Qt=Object(u["a"])(Gt,Wt,Xt,!1,null,"22a656d2",null),Zt=Qt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"dayCount",label:"今日下载"}}),a("el-table-column",{attrs:{prop:"lastDayCount",label:"昨日下载"}}),a("el-table-column",{attrs:{prop:"sumCount",label:"总下载"}}),a("el-table-column",{attrs:{prop:"account",label:"所属用户"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{prop:"language",label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateLanguage(e.row.uuid,e.row.language)}}},[t._v("编辑")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"apk",label:"安卓"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpen(e.row.uuid)}}},[t._v(t._s(null==e.row.apk?"上传":"更新"))]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"ipa",label:"苹果"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpenIos(e.row.uuid)}}},[t._v("更新")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"url",label:"分发地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.url)}}},[t._v("复制地址")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.uuid)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"语言编辑",visible:t.dialogVisible5,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible5=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入语言"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible5=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateLanguagePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{headers:this.$getHeader(),data:t.id,"on-success":t.success,"with-credentials":"",drag:"",action:this.$http.defaults.baseURL+"/softwareDistribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleIos,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisibleIos=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/softwareDistribute/updateIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1)],1)},ee=[],ae={created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,this.type=t.type,this.update(this.page,this.count),console.log(this.type)},methods:{updateLanguage:function(t,e){this.dialogVisible5=!0,this.language=e,this.id2=t},admin:function(t,e,a){return t===this.account&&e===a},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/softwareDistribute/uploadIntroduce?introduce="+t.introduce+"&uuid="+t.id2).then((function(e){updateLanguagePost,t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/softwareDistribute/delete?uuid="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/softwareDistribute/queryAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];0==o.downCode?o.downCode=!1:o.downCode=!0,a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},updateLanguagePost:function(){this.dialogVisible5=!1;var t=this;this.$http.post("/softwareDistribute/updateLanguage?uuid="+t.id2+"&language="+t.language).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.uuid=t,this.dialogVisible=!0},dialogVisibleOpenIos:function(t){this.id.uuid=t,this.dialogVisibleIos=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.dialogVisibleIos=!1,this.update(this.page,this.count)):this.$message.error(t.message),this.dialogVisibleIos=!1,this.dialogVisible=!1}},data:function(){return{language:"",dialogVisible5:!1,tableData:[],dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,introduce:"",id2:"",id3:"",buyDownCodeUrl:"",fileList:[],img:[],count:5,page:1,pages:0,total:0,account:"",type:"",dialogVisibleIos:!1}}},oe=ae,se=(a("d45f"),Object(u["a"])(oe,te,ee,!1,null,null,null)),le=se.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("证书信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))])],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"p12:",prop:"icon"}},[a("input",{staticClass:"file",attrs:{name:"fileIocn",type:"file",accept:".p12"},on:{change:function(e){return t.p12F(e)}}})]),a("el-form-item",{attrs:{label:"moblic:",prop:"startIcon"}},[a("input",{staticClass:"file",attrs:{name:"fileStartIcon",type:"file",accept:".mobileprovision"},on:{change:function(e){return t.mobileProvisionF(e)}}})]),a("el-form-item",{attrs:{label:"证书密码"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("el-form-item",{attrs:{label:"扣除共有池"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1)],1)],1)},ne=[],re={name:"UploadCert",data:function(){return{password:"",p12:"",mobileProvision:{},list:[],disabled:!1,buttonText:"添加",count:0,remark:"独立证书"}},methods:{p12F:function(t){this.p12=t.target.files[0]},mobileProvisionF:function(t){this.mobileProvision=t.target.files[0]},upload:function(){var t=this;if(console.log("p12"+this.p12+"this.mobileProvision"+this.mobileProvision+"this.remark"+this.remark+"this.count"+this.count),""==this.p12||""==this.mobileProvision||""==this.remark||""===this.count)t.$message.error("请填写完整信息!");else{var e=new FormData;e.append("mobileProvision",this.mobileProvision),e.append("p12",this.p12),e.append("remark",this.remark),e.append("count",this.count),e.append("password",this.password),t.disabled=!0,t.buttonText="添加中",t.$http.post("/EnterpriseSign/uploadCert",e).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="添加",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)}))}}}},ce=re,ue=Object(u["a"])(ce,ie,ne,!1,null,"0c56bcfc",null),de=ue.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"domain",label:"域名"}}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},ge=[],me={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/admin/deleteDomain?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/user/queryDomain?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];1===o.status?o.status="正常":o.status="失效",a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},he=me,fe=(a("7a94"),Object(u["a"])(he,pe,ge,!1,null,null,null)),be=fe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加域名")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))])],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"主域名"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"必须是主域名如:www.baidu.com "},model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1)],1)],1)},$e=[],we={name:"AddDomain",data:function(){return{buttonText:"添加",domain:""}},methods:{upload:function(){var t=this;""==this.domain?t.$message.error("请填写完整信息!"):this.$http.post("/admin/addDomain","domain="+t.domain).then((function(e){t.$load(0),0==e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("添加失败")}))}}},Ce=we,ye=Object(u["a"])(Ce,ve,$e,!1,null,"2d5ffe3f",null),xe=ye.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"center_box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("设置")]),a("el-button",{staticStyle:{float:"right",padding:"3px 10px"},attrs:{type:"text"},on:{click:function(e){return t.save()}}},[t._v("保存")])],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"IPA下载链接"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"如https:///www.baidu.com/"},model:{value:t.data.IpaDownUrl,callback:function(e){t.$set(t.data,"IpaDownUrl",e)},expression:"data.IpaDownUrl"}})],1)],1)],1)],1)])},ke=[],Se={created:function(){var t=this;console.log(1),console.log(t.data),t.$load(1,"加载中"),this.$http.get("/admin/querySetting").then((function(e){t.$load(0),0==e.data.code?(t.data=e.data.data,console.log(2),console.log(t.data)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("查询失败")}))},name:"Setting",data:function(){return{data:{IpaDownUrl:""}}},methods:{save:function(){var t=this;this.$http.post("admin/updateSetting","settingJson="+JSON.stringify(t.data)).then((function(e){t.$load(0),0==e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("保存失败")}))}}},De=Se,Ie=(a("d444"),Object(u["a"])(De,_e,ke,!1,null,"2daa0f48",null)),Ve=Ie.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"certId",label:"证书ID"}}),a("el-table-column",{attrs:{prop:"p12Password",label:"密码"}}),a("el-table-column",{attrs:{prop:"udid",label:"设备ID"}}),a("el-table-column",{attrs:{prop:"introduce",label:"备注"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.certId)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},Te=[],Pe={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/IosSignSoftwareDistribute/deleteCert?certId="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/IosSignSoftwareDistribute/queryAllCert?pageNum="+t+"&pageSize="+e).then((function(t){a.$load(0),0==t.data.code?(console.log(t.data.data),a.tableData=t.data.data,a.pages=t.data.pages,a.total=t.data.total):a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},Ne=Pe,Fe=(a("53e7"),Object(u["a"])(Ne,ze,Te,!1,null,null,null)),Ue=Fe.exports,qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"iosId",label:"iosId"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"certId",label:"证书ID"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{prop:"introduce",label:"备注"}}),a("el-table-column",{attrs:{prop:"url",label:"分发地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.url)}}},[t._v("复制地址")])]}}])}),a("el-table-column",{attrs:{prop:"autoPageName",label:"自动更换包名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{on:{click:function(a){return t.use(e)}}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.row.autoPageName,callback:function(a){t.$set(e.row,"autoPageName",a)},expression:"scope.row.autoPageName"}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.iosId)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,headers:this.$getHeader(),"with-credentials":"",drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleIpa,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisibleIpa=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,headers:this.$getHeader(),"with-credentials":"",drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"购买地址",visible:t.dialogVisible4,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible4=e}}},[a("el-input",{attrs:{maxlength:"1000",type:"textarea",rows:3,placeholder:"请输入购买地址"},model:{value:t.buyDownCodeUrl,callback:function(e){t.buyDownCodeUrl=e},expression:"buyDownCodeUrl"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible4=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateDownCodeUrlPost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"轮播图",visible:t.dialogVisible3,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("el-upload",{staticClass:"upload-demo",attrs:{"before-remove":function(){return this.$message.error("选择了,就不可以移除哦!"),!1},accept:".jpg,.png",headers:this.$getHeader(),"on-change":t.uploadImagesChange,action:this.$http.defaults.baseURL+"/distribute/uploadImg","file-list":t.fileList,limit:"4","list-type":"picture","auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){return e.stopPropagation(),t.uploadImagesPost()}}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)},Oe=[],je={created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,this.type=t.type,this.update(this.page,this.count),console.log(this.type)},methods:{updateDomain:function(t){var e=this;this.$http.post("/distribute/updateDomain","id="+t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("修改失败")}))},updateDownCodeUrlPost:function(){this.dialogVisible4=!1;var t=this;this.$http.post("/distribute/updateBuyDownCodeUrl?id="+t.id3+"&url="+t.buyDownCodeUrl).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},updateDownCodeUrl:function(t,e){this.dialogVisible4=!0,console.log(e),this.buyDownCodeUrl=e,this.id3=t},use:function(t){this.dialogVisible2=!1,console.log(t.row.autoPageName);var e=this;!0===t.row.autoPageName?t.row.autoPageName=1:t.row.autoPageName=0,this.$http.post("/IosSignSoftwareDistribute/updateIpaAutoPageName?iosId="+t.row.iosId+"&status="+t.row.autoPageName).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("操作失败")}))},admin:function(t,e,a){return t===this.account&&e===a},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/distribute/updateIntroduce?id="+t.id2+"&introduce="+t.introduce).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImages:function(t){this.fileList=[],this.dialogVisible3=!0,this.id2=t,this.img=[]},uploadImagesPost:function(){if(4!=this.img.length)this.$message.error("需要四张图哦!");else{this.dialogVisible3=!1;var t=new FormData;t.append("img1",this.img[0]),t.append("img2",this.img[1]),t.append("img3",this.img[2]),t.append("img4",this.img[3]),t.append("id",this.id2);var e=this;this.$http.post("/distribute/uploadImg",t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("上传失败")}))}},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/IosSignSoftwareDistribute/deleteIpa?iosId="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/IosSignSoftwareDistribute/queryAllIpa?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];0==o.autoPageName?o.autoPageName=!1:o.autoPageName=!0,a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.id=t,this.dialogVisible=!0},dialogVisibleOpenIpa:function(t){this.id.id=t,this.dialogVisibleIpa=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.dialogVisibleIpa=!1,this.update(this.page,this.count)):this.$message.error(t.message)}},data:function(){return{tableData:[],dialogVisibleIpa:!1,dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,introduce:"",id2:"",id3:"",buyDownCodeUrl:"",fileList:[],img:[],count:5,page:1,pages:0,total:0,account:"",type:""}}},Le=je,Re=(a("12da"),Object(u["a"])(Le,qe,Oe,!1,null,null,null)),Ae=Re.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("上传应用")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))])],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ipa:"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:this.$getHeader(),accept:".ipa","auto-upload":!1,"on-change":t.changeIpa,"file-list":t.list,limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.clear}},[t._v("选择文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过1g")])],1)],1),a("el-form-item",{attrs:{label:"证书ID"}},[a("el-input",{model:{value:t.certId,callback:function(e){t.certId=e},expression:"certId"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}})],1),a("el-form-item",{attrs:{label:""}},[0!==t.percentage?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":25,percentage:t.percentage}}):t._e()],1)],1)],1)},Me=[],He={name:"UploadCert",data:function(){return{introduce:"",udid:"",ipa:"",password:"",p12:"",certId:"",mobileprovision:"",list:[],disabled:!1,buttonText:"添加",percentage:0}},methods:{changeP12:function(t){console.log(t.raw),this.p12=t.raw},changeIpa:function(t){console.log("触发"),console.log(t.raw),this.ipa=t.raw},changeMob:function(t){console.log(t.raw),this.mobileprovision=t.raw},clear:function(){this.$refs.upload.clearFiles()},upload:function(){var t=this,e=new FormData;if(e.append("introduce",this.introduce),e.append("ipa",this.ipa),e.append("certId",this.certId),""==this.ipa||""==this.introduce||""==this.certId)t.$message.error("请填写完整信息");else{t.disabled=!0,t.buttonText="添加中";var a={onUploadProgress:function(e){var a=e.loaded/e.total*100|0;t.percentage=a}};t.$http.post("/IosSignSoftwareDistribute/uploadIpa",e,a).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="添加",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)})).finally((function(){t.percentage=0}))}}}},Be=He,Je=Object(u["a"])(Be,Ee,Me,!1,null,"0881c6a4",null),Ke=Je.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("证书信息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))]),a("a",{attrs:{href:t.addCertHelp,target:"_blank"}},[a("el-button",{staticStyle:{float:"right","margin-right":"10px",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"}},[t._v("使用说明")])],1)],1),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"p12:"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".p12","auto-upload":!1,"on-change":t.changeP12,"file-list":t.list,headers:this.$getHeader(),limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.clear}},[t._v("选择文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传p12文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"mobileprovision:"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".mobileprovision","auto-upload":!1,"on-change":t.changeMob,"file-list":t.list,headers:this.$getHeader(),limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.clear}},[t._v("选择文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传mobileprovision文件，且不超过500kb")])],1)],1),a("el-form-item",{attrs:{label:"证书密码"}},[a("el-input",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("el-form-item",{attrs:{label:"设备udid"}},[a("el-input",{model:{value:t.udid,callback:function(e){t.udid=e},expression:"udid"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}})],1)],1)],1)},Xe=[],Ye={name:"UploadCert",data:function(){return{introduce:"",udid:"",password:"",p12:"",mobileprovision:"",list:[],disabled:!1,buttonText:"添加"}},methods:{changeP12:function(t){console.log(t.raw),this.p12=t.raw},changeMob:function(t){console.log(t.raw),this.mobileprovision=t.raw},clear:function(){},upload:function(){var t=this,e=new FormData;e.append("mobileprovision",this.mobileprovision),e.append("p12",this.p12),e.append("password",this.password),e.append("introduce",this.introduce),e.append("udid",this.udid),""==this.p12||""==this.mobileprovision||""==this.password||""==this.introduce||""==this.udid?t.$message.error("请填写完整信息"):(t.disabled=!0,t.buttonText="添加中",t.$http.post("/IosSignSoftwareDistribute/uploadCert",e).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="添加",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)})))}}},Ge=Ye,Qe=Object(u["a"])(Ge,We,Xe,!1,null,"340be15a",null),Ze=Qe.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"uuid",label:"uuid"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"account",label:"账号"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"iosId",label:"iosId"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"certId",label:"证书ID"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"appVersion",label:"版本"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{prop:"downUrl",label:"plist地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.downUrl)}}},[t._v("复制地址")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleIpa,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisibleIpa=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/distribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"购买地址",visible:t.dialogVisible4,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible4=e}}},[a("el-input",{attrs:{maxlength:"1000",type:"textarea",rows:3,placeholder:"请输入购买地址"},model:{value:t.buyDownCodeUrl,callback:function(e){t.buyDownCodeUrl=e},expression:"buyDownCodeUrl"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible4=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateDownCodeUrlPost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"轮播图",visible:t.dialogVisible3,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("el-upload",{staticClass:"upload-demo",attrs:{"before-remove":function(){return this.$message.error("选择了,就不可以移除哦!"),!1},accept:".jpg,.png",headers:this.$getHeader(),"on-change":t.uploadImagesChange,action:this.$http.defaults.baseURL+"/distribute/uploadImg","file-list":t.fileList,limit:"4","list-type":"picture","auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){return e.stopPropagation(),t.uploadImagesPost()}}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)},ea=[],aa={created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,this.type=t.type,this.update(this.page,this.count),console.log(this.type)},methods:{updateDomain:function(t){var e=this;this.$http.post("/IosSignSoftwareDistribute/pack/queryAll").then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("修改失败")}))},updateDownCodeUrlPost:function(){this.dialogVisible4=!1;var t=this;this.$http.post("/distribute/updateBuyDownCodeUrl?id="+t.id3+"&url="+t.buyDownCodeUrl).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},updateDownCodeUrl:function(t,e){this.dialogVisible4=!0,console.log(e),this.buyDownCodeUrl=e,this.id3=t},use:function(t){this.dialogVisible2=!1,console.log(t.row.autoPageName);var e=this;!0===t.row.autoPageName?t.row.autoPageName=1:t.row.autoPageName=0,this.$http.post("/IosSignSoftwareDistribute/updateIpaAutoPageName?iosId="+t.row.iosId+"&status="+t.row.autoPageName).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("操作失败")}))},admin:function(t,e,a){return t===this.account&&e===a},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/distribute/updateIntroduce?id="+t.id2+"&introduce="+t.introduce).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImages:function(t){this.fileList=[],this.dialogVisible3=!0,this.id2=t,this.img=[]},uploadImagesPost:function(){if(4!=this.img.length)this.$message.error("需要四张图哦!");else{this.dialogVisible3=!1;var t=new FormData;t.append("img1",this.img[0]),t.append("img2",this.img[1]),t.append("img3",this.img[2]),t.append("img4",this.img[3]),t.append("id",this.id2);var e=this;this.$http.post("/distribute/uploadImg",t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("上传失败")}))}},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/distribute/deleIpa?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/IosSignSoftwareDistribute/pack/queryAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data)a.tableData=t.data.data;a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.id=t,this.dialogVisible=!0},dialogVisibleOpenIpa:function(t){this.id.id=t,this.dialogVisibleIpa=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.dialogVisibleIpa=!1,this.update(this.page,this.count)):this.$message.error(t.message)}},data:function(){return{tableData:[],dialogVisibleIpa:!1,dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,introduce:"",id2:"",id3:"",buyDownCodeUrl:"",fileList:[],img:[],count:5,page:1,pages:0,total:0,account:"",type:""}}},oa=aa,sa=(a("078f"),Object(u["a"])(oa,ta,ea,!1,null,null,null)),la=sa.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"certId",label:"证书id"}}),a("el-table-column",{attrs:{prop:"certName",label:"证书名"}}),a("el-table-column",{attrs:{prop:"p12Password",label:"证书密码"}}),a("el-table-column",{attrs:{prop:"certStatus",label:"证书状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(1==e.row.certStatus?"正常":"失效"))])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{prop:"endTime",label:"过期时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.certId)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},na=[],ra={created:function(){this.update(this.page,this.count)},methods:{handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/admin/deleteMdmCert?certId="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/admin/queryMdmCert?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];1===o.status?o.status="正常":o.status="失效",a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},ca=ra,ua=(a("6b9a"),Object(u["a"])(ca,ia,na,!1,null,null,null)),da=ua.exports,pa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("证书信息")]),o("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))])],1),o("el-form",{attrs:{"label-width":"100px"}},[o("el-form-item",{attrs:{label:"p12:",prop:"icon"}},[o("input",{staticClass:"file",attrs:{name:"fileIocn",type:"file",accept:".p12"},on:{change:function(e){return t.p12F(e)}}})]),o("el-form-item",{attrs:{label:"pem(可选):",prop:"startIcon"}},[o("input",{staticClass:"file",attrs:{name:"fileStartIcon",type:"file",accept:".pem"},on:{change:function(e){return t.pemF(e)}}})]),o("el-form-item",{attrs:{label:"key(可选):",prop:"startIcon"}},[o("input",{staticClass:"file",attrs:{name:"fileStartIcon",type:"file",accept:".key"},on:{change:function(e){return t.keyF(e)}}})]),o("el-form-item",{attrs:{label:"证书密码"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),o("div",[o("el-tag",[t._v("说明: pem和key一般是nginx格式的ssl证书两个后缀文件 用于签名描述文件 如果不填则是默认的 默认为 APSP: **** 如果填写pem和key 则展示的为你的域名")]),o("br"),o("br"),o("div",[o("img",{staticStyle:{width:"500px",height:"500px"},attrs:{src:a("b259"),alt:""}})])],1)],1)},ga=[],ma={name:"UploadCert",data:function(){return{password:"",p12:"",pem:"",key:"",list:[],disabled:!1,buttonText:"添加",count:0,remark:"独立证书"}},methods:{p12F:function(t){this.p12=t.target.files[0]},pemF:function(t){this.pem=t.target.files[0]},keyF:function(t){this.key=t.target.files[0]},upload:function(){var t=this;if(console.log("p12"+this.p12+"this.mobileProvision"+this.pem+"this.remark"+this.remark),""===this.p12||""===this.password)t.$message.error("请填写完整信息!");else{var e=new FormData;e.append("p12",this.p12),e.append("remark",this.remark),e.append("password",this.password),""!==this.pem&&""!==this.key&&(e.append("pem",this.pem),e.append("key",this.key)),t.disabled=!0,t.buttonText="添加中",t.$http.post("/admin/uploadMdmCert",e).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="添加",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(t){console.log(t)}))}}}},ha=ma,fa=Object(u["a"])(ha,pa,ga,!1,null,"48b5e673",null),ba=fa.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"account",label:"所属用户"}}),a("el-table-column",{attrs:{prop:"dayCount",label:"今日下载"}}),a("el-table-column",{attrs:{prop:"lastDayCount",label:"昨日下载"}}),a("el-table-column",{attrs:{prop:"sumCount",label:"总下载"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{prop:"apk",label:"安卓"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpen(e.row.id)}}},[t._v(t._s(e.row.apk))])]}}])}),a("el-table-column",{attrs:{prop:"ipa",label:"IOS"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpenIpa(e.row.id)}}},[t._v("更新")])]}}])}),a("el-table-column",{attrs:{prop:"language",label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateLanguage(e.row.id,e.row.language)}}},[t._v("编辑")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"url",label:"分发地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.url)}}},[t._v("复制地址")])]}}])}),a("el-table-column",{attrs:{prop:"downCode",label:"下载码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{on:{click:function(a){return t.use(e)}}},[e.row.account==t.account?a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.row.downCode,callback:function(a){t.$set(e.row,"downCode",a)},expression:"scope.row.downCode"}}):t._e()],1)]}}])}),a("el-table-column",{attrs:{prop:"buyDownCodeUrl",label:"购买地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateDownCodeUrl(e.row.id,e.row.buyDownCodeUrl)}}},[t._v("编辑")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.updateDomain(e.row.id)}}},[t._v("更换域名")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/mdmdistribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleIpa,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisibleIpa=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/mdmdistribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{title:"语言编辑",visible:t.dialogVisible5,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible5=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入语言"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible5=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateLanguagePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"购买地址",visible:t.dialogVisible4,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible4=e}}},[a("el-input",{attrs:{maxlength:"1000",type:"textarea",rows:3,placeholder:"请输入购买地址"},model:{value:t.buyDownCodeUrl,callback:function(e){t.buyDownCodeUrl=e},expression:"buyDownCodeUrl"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible4=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateDownCodeUrlPost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{title:"轮播图",visible:t.dialogVisible3,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("el-upload",{staticClass:"upload-demo",attrs:{"before-remove":function(){return this.$message.error("选择了,就不可以移除哦!"),!1},headers:this.$getHeader(),accept:".jpg,.png","on-change":t.uploadImagesChange,action:this.$http.defaults.baseURL+"/mdmdistribute/uploadImg","file-list":t.fileList,limit:"4","list-type":"picture","auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(e){return e.stopPropagation(),t.uploadImagesPost()}}},[t._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)},$a=[],wa={created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,this.type=t.type,this.update(this.page,this.count),console.log(this.type)},methods:{updateDomain:function(t){var e=this;this.$http.post("/mdmdistribute/updateDomain","id="+t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("修改失败")}))},updateDownCodeUrlPost:function(){this.dialogVisible4=!1;var t=this;this.$http.post("/mdmdistribute/updateBuyDownCodeUrl?id="+t.id3+"&url="+t.buyDownCodeUrl).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},updateDownCodeUrl:function(t,e){this.dialogVisible4=!0,console.log(e),this.buyDownCodeUrl=e,this.id3=t},use:function(t){this.dialogVisible2=!1,console.log(t.row.downCode);var e=this;!0===t.row.downCode?t.row.downCode=1:t.row.downCode=0,this.$http.post("/mdmdistribute/updateDownCodeStatus?id="+t.row.id+"&downCode="+t.row.downCode).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("操作失败")}))},admin:function(t,e,a){return t===this.account&&e===a},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateLanguage:function(t,e){this.dialogVisible5=!0,console.log(e),this.language=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/mdmdistribute/updateIntroduce?id="+t.id2+"&introduce="+t.introduce).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},updateLanguagePost:function(){this.dialogVisible5=!1;var t=this;this.$http.post("/mdmdistribute/updateLanguage?id="+t.id2+"&language="+t.language).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImages:function(t){this.fileList=[],this.dialogVisible3=!0,this.id2=t,this.img=[]},uploadImagesPost:function(){if(4!=this.img.length)this.$message.error("需要四张图哦!");else{this.dialogVisible3=!1;var t=new FormData;t.append("img1",this.img[0]),t.append("img2",this.img[1]),t.append("img3",this.img[2]),t.append("img4",this.img[3]),t.append("id",this.id2);var e=this;this.$http.post("/mdmdistribute/uploadImg",t).then((function(t){e.$load(0),0==t.data.code?(e.update(e.page,e.count),e.$message.success(t.data.message)):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message.error("上传失败")}))}},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/mdmdistribute/deleIpa?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/mdmdistribute/queryAccountAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];null==o.apk?o.apk="未上传":o.apk="已上传",0==o.downCode?o.downCode=!1:o.downCode=!0,a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.id=t,this.dialogVisible=!0},dialogVisibleOpenIpa:function(t){this.id.id=t,this.dialogVisibleIpa=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.dialogVisibleIpa=!1,this.update(this.page,this.count)):this.$message.error(t.message)}},data:function(){return{tableData:[],dialogVisibleIpa:!1,dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,dialogVisible5:!1,language:"",introduce:"",id2:"",id3:"",buyDownCodeUrl:"",fileList:[],img:[],count:5,page:1,pages:0,total:0,account:"",type:""}}},Ca=wa,ya=(a("eb20"),Object(u["a"])(Ca,va,$a,!1,null,null,null)),xa=ya.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"uploadHead",attrs:{"on-success":t.success,"with-credentials":"",drag:"",headers:this.$getHeader(),action:this.$http.defaults.baseURL+"/mdmdistribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])},ka=[],Sa={name:"UploadApp",data:function(){return{}},methods:{success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?this.$message.success(t.message+":请前往我的应用查看"):this.$message.error(t.message)}}},Da=Sa,Ia=Object(u["a"])(Da,_a,ka,!1,null,"2677c288",null),Va=Ia.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",[a("span",{staticStyle:{"font-size":"15px",color:"#333744"}},[t._v("生成个数: ")]),a("el-input",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{oninput:"value=value.replace(/[^0-9]/g,'')",placeholder:"请输入内容"},model:{value:t.addCount,callback:function(e){t.addCount=e},expression:"addCount"}}),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addDownCode}},[t._v("立即生成")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"downCode",label:"下载码"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"useTime",label:"使用时间"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},Ta=[],Pa={created:function(){this.update(this.page,this.count)},methods:{addDownCode:function(){var t=this;t.$load(1,"处理中"),this.$http.post("/mdmdistribute/addDownCode?num="+t.addCount).then((function(e){t.$load(0),0==e.data.code?t.update(t.page,t.count):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message,e("添加失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},handleClick:function(t){var e=this;this.$http.post("/mdmdistribute/deleDownCode?id="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/mdmdistribute/queryAllDownCode?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];1===o.status?o.status="未使用":o.status="已使用",a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1,addCount:1}}},Na=Pa,Fa=(a("3dd1"),Object(u["a"])(Na,za,Ta,!1,null,null,null)),Ua=Fa.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"uuid",label:"id"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"dayCount",label:"今日下载"}}),a("el-table-column",{attrs:{prop:"lastDayCount",label:"昨日下载"}}),a("el-table-column",{attrs:{prop:"sumCount",label:"总下载"}}),a("el-table-column",{attrs:{prop:"account",label:"所属用户"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),a("el-table-column",{attrs:{prop:"language",label:"语言"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.updateLanguage(e.row.uuid,e.row.language)}}},[t._v("编辑")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"apk",label:"安卓"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpen(e.row.uuid)}}},[t._v(t._s(null==e.row.apk?"上传":"更新"))]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"ipa",label:"苹果"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.account==t.account?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.dialogVisibleOpenIos(e.row.uuid)}}},[t._v("更新")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"url",label:"分发地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.copy(e.row.url)}}},[t._v("复制地址")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.uuid)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"语言编辑",visible:t.dialogVisible5,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible5=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入语言"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible5=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateLanguagePost()}}},[t._v("确 定")])],1),a("el-dialog",{attrs:{visible:t.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{headers:this.$getHeader(),data:t.id,"on-success":t.success,"with-credentials":"",drag:"",action:this.$http.defaults.baseURL+"/mdmsoftwareDistribute/uploadApk",name:"apk",accept:".apk",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传apk文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleIos,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisibleIos=e}}},[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-upload",{staticClass:"uploadHead",attrs:{data:t.id,"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/mdmsoftwareDistribute/updateIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])],1)]),a("el-dialog",{attrs:{title:"简介编辑",visible:t.dialogVisible2,center:"",width:"30%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("el-input",{attrs:{maxlength:"100",type:"textarea",rows:3,placeholder:"请输入简介,100字以内"},model:{value:t.introduce,callback:function(e){t.introduce=e},expression:"introduce"}}),a("p"),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateIntroducePost()}}},[t._v("确 定")])],1)],1)},Oa=[],ja={created:function(){var t=JSON.parse(window.localStorage.getItem("user"));console.log(t),this.account=t.account,this.type=t.type,this.update(this.page,this.count),console.log(this.type)},methods:{updateLanguage:function(t,e){this.dialogVisible5=!0,this.language=e,this.id2=t},admin:function(t,e,a){return t===this.account&&e===a},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},updateIntroduce:function(t,e){this.dialogVisible2=!0,console.log(e),this.introduce=e,this.id2=t},updateIntroducePost:function(){this.dialogVisible2=!1;var t=this;this.$http.post("/mdmsoftwareDistribute/uploadIntroduce?introduce="+t.introduce+"&uuid="+t.id2).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},uploadImagesChange:function(t){this.img.push(t.raw),console.log(this.img)},handleClick:function(t){var e=this;this.$http.post("/mdmsoftwareDistribute/delete?uuid="+t).then((function(t){e.$load(0),0==t.data.code?e.update(e.page,e.count):e.$message.error(t.data.message)})).catch((function(t){e.$load(0),e.$message,t("删除失败")}))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/mdmsoftwareDistribute/queryAll?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];0==o.downCode?o.downCode=!1:o.downCode=!0,a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},updateLanguagePost:function(){this.dialogVisible5=!1;var t=this;this.$http.post("/mdmsoftwareDistribute/updateLanguage?uuid="+t.id2+"&language="+t.language).then((function(e){t.$load(0),0==e.data.code?(t.update(t.page,t.count),t.$message.success(e.data.message)):t.$message.error(e.data.message)})).catch((function(e){t.$load(0),t.$message.error("修改失败")}))},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"},dialogVisibleOpen:function(t){this.id.uuid=t,this.dialogVisible=!0},dialogVisibleOpenIos:function(t){this.id.uuid=t,this.dialogVisibleIos=!0},success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?(this.$message.success(t.message),this.dialogVisible=!1,this.dialogVisibleIos=!1,this.update(this.page,this.count)):this.$message.error(t.message),this.dialogVisibleIos=!1,this.dialogVisible=!1}},data:function(){return{language:"",dialogVisible5:!1,tableData:[],dialogVisible:!1,id:{id:""},dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,introduce:"",id2:"",id3:"",buyDownCodeUrl:"",fileList:[],img:[],count:5,page:1,pages:0,total:0,account:"",type:"",dialogVisibleIos:!1}}},La=ja,Ra=(a("0a03"),Object(u["a"])(La,qa,Oa,!1,null,null,null)),Aa=Ra.exports,Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"uploadHead",attrs:{"on-success":t.success,"with-credentials":"",headers:this.$getHeader(),drag:"",action:this.$http.defaults.baseURL+"/mdmsoftwareDistribute/uploadIpa",name:"ipa",accept:".ipa",multiple:!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传ipa文件，且不超过2048MB")])])},Ma=[],Ha={name:"UploadApp",data:function(){return{}},methods:{success:function(t){4===t.code?(this.$message.error(t.message),window.localStorage.removeItem("user"),this.$router.push("/login")):0===t.code?this.$message.success(t.message+":请前往分发记录查看"):this.$message.error(t.message)}}},Ba=Ha,Ja=Object(u["a"])(Ba,Ea,Ma,!1,null,"47be7cbc",null),Ka=Ja.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"id",label:"id"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"udid",label:"设备UDID"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下载时间"}}),a("el-table-column",{attrs:{prop:"status",label:"下载状态"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP"}}),a("el-table-column",{attrs:{prop:"id",label:"证书下载"},scopedSlots:t._u([{key:"default",fn:function(e){return["下载成功"===e.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.downCert(e.row.id)}}},[t._v("证书下载")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},Xa=[],Ya={created:function(){this.update(this.page,this.count)},methods:{downCert:function(t){console.log(t);var e=this;e.$load(1,"查询中"),this.$http.get("/mdmdistribute/downCert?id="+t).then((function(t){e.$load(0),window.location.href=t.data.url})).catch((function(t){e.$load(0),e.$message,t("未知失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/user/querySuperMdmDown?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];"点击下载"===o.status&&(o.status="下载成功"),a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},Ga=Ya,Qa=(a("08bf"),Object(u["a"])(Ga,Wa,Xa,!1,null,null,null)),Za=Qa.exports,to=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"recordId",label:"id"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"appName",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"appPageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"udid",label:"设备UDID"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下载时间"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},eo=[],ao={created:function(){this.update(this.page,this.count)},methods:{downCert:function(t){console.log(t);var e=this;e.$load(1,"查询中"),this.$http.get("/mdmdistribute/downCert?id="+t).then((function(t){e.$load(0),window.location.href=t.data.url})).catch((function(t){e.$load(0),e.$message,t("未知失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/mdmsoftwareDistribute/querySuperMdmDown?pageNum="+t+"&pageSize="+e).then((function(t){if(a.$load(0),0==t.data.code){for(var e in console.log(t.data.data),a.tableData=[],t.data.data){var o=t.data.data[e];a.tableData.push(o)}a.pages=t.data.pages,a.total=t.data.total}else a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},oo=ao,so=(a("3029"),Object(u["a"])(oo,to,eo,!1,null,null,null)),lo=so.exports,io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("扣量设置")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{disabled:t.disabled,type:"text"},on:{click:t.upload}},[t._v(t._s(t.buttonText))])],1),a("el-form",{attrs:{"label-width":"300px"}},[a("el-tag",[t._v("分发设置")]),a("el-form-item",{attrs:{label:"mdm企业签名下载1次扣除(/台)"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.req.mdmSoftTotal,callback:function(e){t.$set(t.req,"mdmSoftTotal",e)},expression:"req.mdmSoftTotal"}})],1),a("el-form-item",{attrs:{label:"mdm超级签名下载1次扣除(/台)"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.req.mdmSuperTotal,callback:function(e){t.$set(t.req,"mdmSuperTotal",e)},expression:"req.mdmSuperTotal"}})],1),a("el-form-item",{attrs:{label:"超级签名分发下载1次扣除(/台)"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.req.superTotal,callback:function(e){t.$set(t.req,"superTotal",e)},expression:"req.superTotal"}})],1),a("el-form-item",{attrs:{label:"单点分发下载1次扣除(/台)"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.req.oneSuperTotal,callback:function(e){t.$set(t.req,"oneSuperTotal",e)},expression:"req.oneSuperTotal"}})],1),a("el-form-item",{attrs:{label:"自助分发扣除(/台)"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.req.softTotal,callback:function(e){t.$set(t.req,"softTotal",e)},expression:"req.softTotal"}})],1),a("el-form-item",{attrs:{label:"免签封装1次扣除(/台)"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number"},model:{value:t.req.webPackTotal,callback:function(e){t.$set(t.req,"webPackTotal",e)},expression:"req.webPackTotal"}})],1),a("el-tag",[t._v("虚拟扣量设置")]),a("el-form-item",{attrs:{label:"mdm企业签名第几次触发扣量"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"30px"},attrs:{type:"number"},model:{value:t.req.mdmSoftNum,callback:function(e){t.$set(t.req,"mdmSoftNum",e)},expression:"req.mdmSoftNum"}}),t._v(" 额外扣除数量 "),a("el-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{type:"number"},model:{value:t.req.mdmSoftReCount,callback:function(e){t.$set(t.req,"mdmSoftReCount",e)},expression:"req.mdmSoftReCount"}})],1),a("el-form-item",{attrs:{label:"mdm超级签名第几次触发扣量"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"30px"},attrs:{type:"number"},model:{value:t.req.mdmSuperNum,callback:function(e){t.$set(t.req,"mdmSuperNum",e)},expression:"req.mdmSuperNum"}}),t._v(" 额外扣除数量 "),a("el-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{type:"number"},model:{value:t.req.mdmSuperReCount,callback:function(e){t.$set(t.req,"mdmSuperReCount",e)},expression:"req.mdmSuperReCount"}})],1),a("el-form-item",{attrs:{label:"超级签名第几次触发扣量"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"30px"},attrs:{type:"number"},model:{value:t.req.superNum,callback:function(e){t.$set(t.req,"superNum",e)},expression:"req.superNum"}}),t._v(" 额外扣除数量 "),a("el-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{type:"number"},model:{value:t.req.superReCount,callback:function(e){t.$set(t.req,"superReCount",e)},expression:"req.superReCount"}})],1),a("el-form-item",{attrs:{label:"自助分发第几次触发扣量"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"30px"},attrs:{type:"number"},model:{value:t.req.softNum,callback:function(e){t.$set(t.req,"softNum",e)},expression:"req.softNum"}}),t._v(" 额外扣除数量 "),a("el-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{type:"number"},model:{value:t.req.softReCount,callback:function(e){t.$set(t.req,"softReCount",e)},expression:"req.softReCount"}})],1),a("el-tag",[t._v("其他设置")]),a("el-form-item",{attrs:{label:"主域名"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"30px"},attrs:{type:"text"},model:{value:t.req.mqDomain,callback:function(e){t.$set(t.req,"mqDomain",e)},expression:"req.mqDomain"}})],1),a("el-form-item",{attrs:{label:"mdm域名"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"30px"},attrs:{type:"text"},model:{value:t.req.mdmDomain,callback:function(e){t.$set(t.req,"mdmDomain",e)},expression:"req.mdmDomain"}})],1)],1)],1)},no=[],ro={name:"UploadCert",created:function(){this.query()},data:function(){return{req:{mdmDomain:"www.xxx.com",mqDomain:"www.xxx.com",mdmSoftNum:0,mdmSoftReCount:0,mdmSuperNum:0,mdmSuperReCount:0,superNum:0,superReCount:0,softNum:0,softReCount:0,superTotal:0,mdmSuperTotal:0,softTotal:0,mdmSoftTotal:0,webPackTotal:0,oneSuperTotal:0},disabled:!1,buttonText:"保存"}},methods:{query:function(){var t=this;t.$http.post("/admin/system_settings_query").then((function(e){t.$load(0),0===e.data.code?t.req=e.data.data:t.$message.error(e.data.message)})).catch((function(e){t.$load(0),console.log(e)}))},upload:function(){var t=this;t.disabled=!0,t.buttonText="保存中",t.$http.post("/admin/system_settings",t.req).then((function(e){console.log(e.data),t.disabled=!1,t.buttonText="保存",0===e.data.code?t.$message.success(e.data.message):t.$message.error(e.data.message)})).catch((function(e){t.disabled=!1,t.buttonText="保存",console.log(e)}))}}},co=ro,uo=Object(u["a"])(co,io,no,!1,null,"08e6675f",null),po=uo.exports,go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"center_box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"text item"},[t._v(" 下载过超级签的每个设备都会有一本对应证书 "),a("br"),t._v(" "),a("br"),t._v(" 可以在下载记录中选择证书下载 "),a("br"),t._v(" "),a("br"),t._v(" 这本证书可以对这台设备签无数个应用"),a("br"),a("br"),t._v(" 当然 你也可以使用使用单点分发进行应用多开 "),a("br"),t._v(" "),a("br"),t._v(" 只需要开启应用中的自动更换包名即可 "),a("br"),t._v(" "),a("br"),t._v(" 这样每次下载的应用都是一个新应用不会覆盖原应用 ")])])],1)])},mo=[],ho={created:function(){},name:"Personal",data:function(){return{account:"获取中",type:"获取中",count:"获取中",dialogFormVisible:!1,password:"",newPassword:"",formLabelWidth:"120px",req:{mdmSoftNum:0,mdmSoftReCount:0,mdmSuperNum:0,mdmSuperReCount:0,superNum:0,superReCount:0,softNum:0,softReCount:0,superTotal:0,mdmSuperTotal:0,softTotal:0,mdmSoftTotal:0,webPackTotal:0}}},methods:{}},fo=ho,bo=(a("72dd"),Object(u["a"])(fo,go,mo,!1,null,"65def3e2",null)),vo=bo.exports,$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"recordId",label:"id"}}),a("el-table-column",{attrs:{prop:"appName",label:"包名"}}),a("el-table-column",{attrs:{prop:"appPageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下载时间"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},wo=[],Co={created:function(){this.update(this.page,this.count)},methods:{downCert:function(t){console.log(t);var e=this;e.$load(1,"查询中"),this.$http.get("/softwareDistribute/downCert?id="+t).then((function(t){e.$load(0),window.location.href=t.data.url})).catch((function(t){e.$load(0),e.$message,t("未知失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/softwareDistribute/queryDownAll?pageNum="+t+"&pageSize="+e).then((function(t){a.$load(0),0==t.data.code?(console.log(t.data.data),a.tableData=t.data.data,a.pages=t.data.pages,a.total=t.data.total):a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},yo=Co,xo=(a("8855f"),Object(u["a"])(yo,$o,wo,!1,null,null,null)),_o=xo.exports,ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":t.headClass,"cell-style":t.rowClass}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"uuid",label:"id"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"pageName",label:"包名"}}),a("el-table-column",{attrs:{prop:"createTime",label:"下载时间"}}),a("el-table-column",{attrs:{prop:"status",label:"下载状态"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"","current-page":t.page,"page-sizes":[5,40,80,100],"page-size":t.count,layout:"total, sizes, prev, pager, next, jumper","page-count":t.pages,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},So=[],Do={created:function(){this.update(this.page,this.count)},methods:{downCert:function(t){console.log(t);var e=this;e.$load(1,"查询中"),this.$http.get("/distribute/downCert?id="+t).then((function(t){e.$load(0),window.location.href=t.data.url})).catch((function(t){e.$load(0),e.$message,t("未知失败")}))},handleSizeChange:function(t){console.log("每页数量"+t),this.count=t,this.update(this.page,this.count)},handleCurrentChange:function(t){this.page=t,this.update(this.page,this.count),console.log("当前页: ".concat(t))},update:function(t,e){var a=this;a.$load(1,"查询中"),this.$http.get("/IosSignSoftwareDistribute/queryDown?pageNum="+t+"&pageSize="+e).then((function(t){a.$load(0),0==t.data.code?(console.log(t.data.data),a.tableData=t.data.data,a.pages=t.data.pages,a.total=t.data.total):a.$message.error(t.data.message)})).catch((function(t){a.$load(0),a.$message,t("查询失败")}))},headClass:function(){return"text-align:center"},rowClass:function(){return"text-align:center"}},data:function(){return{tableData:[],count:5,page:1,pages:0,total:1}}},Io=Do,Vo=(a("55ef"),Object(u["a"])(Io,ko,So,!1,null,null,null)),zo=Vo.exports;l.a.use(g["a"]);var To=new g["a"]({routes:[{path:"/login",component:$},{path:"/",redirect:"/login"},{path:"/Home",component:k,redirect:"/Personal",children:[{path:"/Personal",component:T},{path:"/AppAll",component:O},{path:"/UploadApp",component:M},{path:"/CertAll",component:X},{path:"/UploadCert",component:et},{path:"/UserAll",component:nt},{path:"/DownRecord",component:gt},{path:"/DownCode",component:$t},{path:"/PackRecord",component:kt},{path:"/StartPack",component:Ut},{path:"/UploadAppSign",component:At},{path:"/SignRecord",component:Kt},{path:"/SoftwareDistribute",component:Zt},{path:"/DistributeRecord",component:le},{path:"/UploadEnterpriseCert",component:de},{path:"/DomainList",component:be},{path:"/AddDomain",component:xe},{path:"/Setting",component:Ve},{path:"/IosCertAll",component:Ue},{path:"/IosAppAll",component:Ae},{path:"/UploadIosCert",component:Ze},{path:"/UploadIosApp",component:Ke},{path:"/PackIosSignStatus",component:la},{path:"/MdmCert",component:da},{path:"/UploadMdmCert",component:ba},{path:"/MdmAppAll",component:xa},{path:"/MdmDownCode",component:Ua},{path:"/MdmUploadApp",component:Va},{path:"/MdmDistributeRecord",component:Aa},{path:"/MdmSoftwareDistribute",component:Ka},{path:"/MdmSuperDownRecord",component:Za},{path:"/MdmSoftwareDownRecord",component:lo},{path:"/SettingKouliang",component:po},{path:"/ShuoMing",component:vo},{path:"/DistributeDownRecord",component:_o},{path:"/IosDownRecord",component:zo}]}]}),Po=To,No=a("2f62");l.a.use(No["a"]);var Fo=new No["a"].Store({state:{},mutations:{},actions:{},modules:{}});a("aede");function Uo(){var t=window.localStorage.getItem("user");return console.log("获取header"),null!=t?(console.log("有token"),t=JSON.parse(t),{token:t.token}):{}}function qo(t,e){1===t?this.$loading({lock:!0,text:e,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}):this.$loading({lock:!0,text:e,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}).close()}l.a.config.productionTip=!1,l.a.prototype.$http=zt.a,l.a.prototype.addCertHelp="https://www.baidu.com/",zt.a.defaults.baseURL="",console.log(window.document.domain),zt.a.defaults.withCredentials=!0,l.a.prototype.$load=qo,l.a.prototype.$getHeader=Uo,zt.a.interceptors.request.use((function(t){var e=window.localStorage.getItem("user");return console.log("全局拦截"),console.log(e),null!=e&&(console.log("有token"),e=JSON.parse(e),t.headers.token=e.token),t})),zt.a.interceptors.response.use((function(t){return console.log(t.data),4===t.data.code&&(l.a.prototype.$message("请登录"),Po.push("/login"),window.localStorage.removeItem("user")),t}),(function(t){l.a.prototype.$message("服务器错误"),console.log("服务器错误")})),Po.beforeEach((function(t,e,a){"/login"===t.path||null!=window.localStorage.getItem("user")?a():(l.a.prototype.$message("请登录"),Po.push("/login"))})),new l.a({router:Po,store:Fo,render:function(t){return t(p)}}).$mount("#app")},"59f4":function(t,e,a){"use strict";var o=a("2328"),s=a.n(o);s.a},"5bf6":function(t,e,a){},"6b9a":function(t,e,a){"use strict";var o=a("ce5a"),s=a.n(o);s.a},"72dd":function(t,e,a){"use strict";var o=a("e0d6"),s=a.n(o);s.a},"7a94":function(t,e,a){"use strict";var o=a("ea94"),s=a.n(o);s.a},"7d4f":function(t,e,a){"use strict";var o=a("910f"),s=a.n(o);s.a},8015:function(t,e,a){},8430:function(t,e,a){},8536:function(t,e,a){"use strict";var o=a("8015"),s=a.n(o);s.a},8855:function(t,e,a){},"8855f":function(t,e,a){"use strict";var o=a("2741"),s=a.n(o);s.a},8966:function(t,e,a){},"8bbf":function(t,e){t.exports=Vue},"8de6":function(t,e,a){},"910f":function(t,e,a){},"94f9":function(t,e,a){},"966b":function(t,e,a){},"9e1a":function(t,e,a){"use strict";var o=a("ef10"),s=a.n(o);s.a},a898:function(t,e,a){},aede:function(t,e,a){},afda:function(t,e,a){"use strict";var o=a("966b"),s=a.n(o);s.a},b19f:function(t,e,a){},b259:function(t,e,a){t.exports=a.p+"img/qwea.d262cf5f.jpg"},bafb:function(t,e,a){"use strict";var o=a("268f"),s=a.n(o);s.a},c005:function(t,e,a){"use strict";var o=a("ddbc"),s=a.n(o);s.a},ce5a:function(t,e,a){},d0cf:function(t,e,a){t.exports=a.p+"img/login.81187d77.jpg"},d444:function(t,e,a){"use strict";var o=a("94f9"),s=a.n(o);s.a},d45f:function(t,e,a){"use strict";var o=a("2250"),s=a.n(o);s.a},ddbc:function(t,e,a){},e0d6:function(t,e,a){},ea94:function(t,e,a){},eb20:function(t,e,a){"use strict";var o=a("2e5e"),s=a.n(o);s.a},ed16:function(t,e,a){"use strict";var o=a("a898"),s=a.n(o);s.a},ef10:function(t,e,a){},f940:function(t,e,a){}});
//# sourceMappingURL=app.37ca4834.js.map